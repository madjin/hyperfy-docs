"use strict";(self.webpackChunkhyperfy_docs=self.webpackChunkhyperfy_docs||[]).push([[2363],{3384:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>a,default:()=>p,frontMatter:()=>s,metadata:()=>i,toc:()=>d});var r=n(4848),o=n(8453);const s={sidebar_position:40},a="React",i={id:"developers/react",title:"React",description:"Apps in Hyperfy are built using the declarative power of React \u2013 But \u2013 instead of rendering to the DOM your app is being rendered into an automatic multiplayer virtual world. Instead of using DOM elements like ` and  you have access to powerful new elements such as  and `.",source:"@site/docs/developers/react.md",sourceDirName:"developers",slug:"/developers/react",permalink:"/hyperfy-docs/docs/developers/react",draft:!1,unlisted:!1,editUrl:"https://github.com/madjin/hyperfy-docs/tree/main/docs/developers/react.md",tags:[],version:"current",lastUpdatedBy:"Knar",lastUpdatedAt:1710878381,formattedLastUpdatedAt:"Mar 19, 2024",sidebarPosition:40,frontMatter:{sidebar_position:40},sidebar:"developers",previous:{title:"Structure",permalink:"/hyperfy-docs/docs/developers/structure"},next:{title:"Sync State",permalink:"/hyperfy-docs/docs/developers/sync-state"}},c={},d=[{value:"Performance",id:"performance",level:2}];function l(e){const t={code:"code",em:"em",h1:"h1",h2:"h2",p:"p",pre:"pre",strong:"strong",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.h1,{id:"react",children:"React"}),"\n",(0,r.jsxs)(t.p,{children:["Apps in Hyperfy are built using the declarative power of React \u2013 But \u2013 instead of rendering to the DOM your app is being rendered into an automatic multiplayer virtual world. Instead of using DOM elements like ",(0,r.jsx)(t.code,{children:"<div>"})," and ",(0,r.jsx)(t.code,{children:"<p>"})," you have access to powerful new elements such as ",(0,r.jsx)(t.code,{children:"<model>"})," and ",(0,r.jsx)(t.code,{children:"<rigidbody>"}),"."]}),"\n",(0,r.jsx)(t.p,{children:"Everything else is Just React\u2122, with full access to component based design, hooks, context and the entire React and Javascript ecosystem."}),"\n",(0,r.jsxs)(t.p,{children:["Your apps ",(0,r.jsx)(t.code,{children:"index.js"})," file should export a default React component that will be used as the entry point for your app."]}),"\n",(0,r.jsx)(t.p,{children:"The following is a simple app that displays a large field of grass:"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-jsx",children:'import React from "react";\n\nexport default function Grass() {\n  return (\n    <app>\n      <rigidbody>\n        <box size={[100, 0.1, 100]} color="green" />\n      </rigidbody>\n    </app>\n  );\n}\n'})}),"\n",(0,r.jsx)(t.h2,{id:"performance",children:"Performance"}),"\n",(0,r.jsx)(t.p,{children:"Thanks to React, Hyperfy is able to take full advantage of a virtual dom and only update things that need updating. On top of this, React can schedule complex tasks to happen later at a more optimal time. This is something no other engine can compete with."}),"\n",(0,r.jsxs)(t.p,{children:["One thing we ",(0,r.jsx)(t.strong,{children:"must"})," be careful with, is identifying when to jump into imperative code."]}),"\n",(0,r.jsxs)(t.p,{children:["A perfect example of this is when animating objects each frame. Instead of thrashing React with state updates, it's best to do this ",(0,r.jsx)(t.em,{children:"outside"})," of react state:"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-jsx",children:"import React, { useRef, useEffect } from 'react'\nimport { useWorld, Vector3 } from 'hyperfy'\n\nfunction MovingBox() {\n  const ref = useRef()\n  const world = useWorld()\n\n  useEffect(() => {\n    const box = ref.current\n    const position = new Vector3()\n// highlight-start\n    return world.onUpdate(delta => {\n      position.y += delta\n      box.setPosition(position)\n    })\n// highlight-end\n  }, [])\n\n  return (\n    <box ref={ref}>\n  )\n}\n"})})]})}function p(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>a,x:()=>i});var r=n(6540);const o={},s=r.createContext(o);function a(e){const t=r.useContext(s);return r.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function i(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:a(e.components),r.createElement(s.Provider,{value:t},e.children)}}}]);